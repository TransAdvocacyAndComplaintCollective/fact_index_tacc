@use '../../style/mixins' as *;
@use "../../style/variables";
@use "../../style/color";

// ===================
// Sidebar Filters Container
// ===================
.sidebarFilters {
  background: var(--theme-color-bg-white); // was color-brand-softer border
  border-radius: 8px;
  padding: 2rem 1.6rem 1.6rem;
  width: 100%;
  max-width: 400px;
  min-width: 0;
  min-height: 250px;
  box-sizing: border-box;
  color: var(--theme-color-text); // highest contrast text
  box-shadow: 0 2px 18px 0 rgb(0 0 0 / 9%); // highest contrast box shadow
  position: relative;
  z-index: 2;
  transition: width 0.2s, padding 0.2s, box-shadow 0.2s;
}

// ===================
// Filter Section/Headings
// ===================
.filterSection {
  margin-bottom: 1.7rem;

  &:not(:first-child) {
    padding-top: 1.2rem;
    border-top: 1px solid var(--theme-color-border-light, #ececec);
  }
}

.filterLabel {
  font-weight: 700; // up from 600 for bold clarity
  margin-top: 0;
  font-size: 1.09em;
  color: var(--theme-color-heading); // Always high contrast (AAA)
  letter-spacing: 0.01em;
}

// ===================
// Chips Row & Filter Chips
// ===================
.chipRow {
  display: grid;
  grid-template-columns: 1fr;
  // gap: 0.5em 0.38em;gap
  // margin: 0.3em 0 0.5em 0;margin
  width: 100%;

  
}

// ===================
// Inputs
// ===================
.filterYears {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.2em 1.5em;
  align-items: end;
  margin-bottom: 1rem;
}

.filterYears label {
  display: flex;
  flex-direction: column;
  font-size: 1.05em; // slightly up for clarity
  color: var(--theme-color-text); // slightly up for clarity, full contrast
  gap: 0.13em; // full contrast gap
}

input[type="number"],
input[type="date"] {
  background: var(--theme-color-bg-white);
  border: 1.5px solid var(--theme-color-border-input);
  border-radius: 8px;
  color: var(--theme-color-text);
  padding: 0.4em 0.8em;
  font-size: 1.1em;
  width: 100%;
  box-sizing: border-box;
  transition: border 0.14s, background 0.14s;
  margin-top: 2px;
  // enforce 44px touch height
  min-height: 44px; // enforce 44px touch height

  &:focus {
    border-color: var(--theme-color-border-focus);
    outline: none;
    background: var(--theme-color-bg-neutral);
  }
}

// ===================
// Apply Button
// ===================
.applyButton,
.sidebarFilters button:not(.chip) {
  margin-top: 4px;
  width: 100%;
  background: var(--theme-color-accent-blue2); // deep blue, always AA/AAA border
  border-radius: 8px;
  padding: 13px;
  font-size: 1.11rem;
  color: #fff; // white text on deep blue
  transition: background 0.17s, box-shadow 0.15s;
  font-weight: 800;
  letter-spacing: 0.01em;
  // enforce 44px min height
  min-height: 44px; // enforce 44px min height

  &:hover,
  &:focus {
    background: var(--theme-color-accent-blue); // lighter blue for hover, still contrast
    cursor: pointer;
    box-shadow: 0 2px 14px var(--theme-shadow-2);
    outline: 2px solid var(--theme-color-focus-outline);
    color: #fff;
  }
}

// ===================
// Extra Large (Ultra Tall) Screens
// ===================
@include respond-to-height(ultra-tall) {
  .sidebarFilters {
    min-height: 480px;
    padding-bottom: 4em;
  }
}

.selectInput {
  background: var(--theme-color-bg-white);
  border: 1.5px solid var(--theme-color-border-input);
  border-radius: 8px;
  color: var(--theme-color-text);
  padding: 0.5em 0.8em;
  font-size: 1.08em;
  width: 100%;
  min-height: 44px; // for touch accessibility
  margin-top: 2px;
  margin-bottom: 0.6em;
  transition: border 0.14s, background 0.14s;

  &:focus {
    border-color: var(--theme-color-border-focus);
    outline: none;
    background: var(--theme-color-bg-neutral);
  }

  // Remove browser default arrow and style our own
  appearance: none; // remove browser default arrow and style our own
  appearance: none;
  appearance: none;
  background-image:
    url("data:image/svg+xml,%3Csvg width='16' height='10' viewBox='0 0 16 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 2l7 7 7-7' stroke='%23333' stroke-width='2' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 0.7em center;
  background-size: 1.2em;
  cursor: pointer;
}
