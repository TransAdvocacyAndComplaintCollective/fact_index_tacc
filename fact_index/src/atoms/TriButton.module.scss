// TriButton.module.scss

.chip {
  cursor: pointer;
  border-radius: 999px;
  padding: 0.28em 1em;
  font-size: 1em;
  font-weight: 600; // clarity
  letter-spacing: 0.01em;
  border: 2px solid var(--theme-chip-border);
  background: var(--theme-chip-bg);
  color: var(--theme-color-chip-text);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.38em;
  box-shadow: 0 1px 5px var(--theme-shadow-1);
  transition:
    background 0.2s ease,
    border-color 0.2s ease,
    color 0.2s ease,
    transform 0.1s ease;
  outline: none;
  user-select: none;

  // enforce minimum touch target size
  min-width: 44px;
  min-height: 44px;

  &:focus-visible {
    outline: 2.5px solid var(--theme-color-focus-outline);
    z-index: 1;
  }

  &:hover,
  &:focus {
    outline: 2px solid var(--theme-color-focus-outline);
    z-index: 2;
    transform: scale(1.08);
  }

  &:active {
    transform: scale(0.97);
    filter: brightness(0.96);
  }
}

.chipMark {
  margin-left: 0.27em;
  font-size: 1.08em;
  user-select: none;
}

// === Neutral State ===
.chipNeutral {
  background-color: var(--theme-chip-none-bg)!important;
  border-color: var(--theme-chip-none-border);
  color: var(--theme-color-text-dark);
  opacity: 0.97;

  &:hover,
  &:focus {
    background-color: var(--theme-chip-none-bg)!important;
    border-color: var(--theme-chip-none-border);
    color: var(--theme-color-text-dark);
    box-shadow: 0 1px 6px var(--theme-shadow-1);
    text-decoration: none;
  }
}

// === Include State ===
.chipInclude {
  background-color: var(--theme-chip-subject-bg)!important;
  border-color: var(--theme-chip-subject-border);
  // color: var(--theme-color-accent-blue2);
  opacity: 1;

  &:hover,
  &:focus {
    background-color: var(--theme-chip-subject-bg)!important;
    border-color: var(--theme-chip-subject-border);
    // color: var(--theme-color-accent-blue2);
    box-shadow: 0 2px 8px var(--theme-shadow-2);
  }
}

// === Exclude State ===
.chipExclude {
  background-color: var(--theme-color-accent-red4);
  border-color: var(--theme-color-accent-red);
  color: #fff;
  opacity: 1;
  text-decoration: line-through wavy var(--theme-color-warning);

  &:hover,
  &:focus {
    background-color: var(--theme-color-accent-red4);
    border-color: var(--theme-color-accent-red);
    color: #fff;
    box-shadow: 0 2px 10px var(--theme-shadow-3);
    text-decoration: line-through wavy var(--theme-color-warning);
  }
}

// Optional: pressed/active state styling (keyboard)
.chip[aria-pressed="true"] {
  font-weight: 800;
  box-shadow: 0 2px 8px var(--theme-shadow-2);
}
